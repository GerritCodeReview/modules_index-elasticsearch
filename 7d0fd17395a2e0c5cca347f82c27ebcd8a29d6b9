{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f275dfd9_bc8cedd5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-07-18T08:26:32Z",
      "side": 1,
      "message": "Can you provide some explanation on why? You could also mention the `index.max_result_window` at [2]\n\n[2] https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#dynamic-index-settings",
      "range": {
        "startLine": 12,
        "startChar": 17,
        "endLine": 12,
        "endChar": 53
      },
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3bbdddd9_f2d99ac7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-07-19T08:44:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f275dfd9_bc8cedd5",
      "range": {
        "startLine": 12,
        "startChar": 17,
        "endLine": 12,
        "endChar": 53
      },
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f1f90f64_e56d9c8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-07-18T09:16:22Z",
      "side": 1,
      "message": "Needs documentation update.\n\nAlso mention that on master we could implement the `NONE` type using the PIT support in ElasticSearch from v7.10 onwards.",
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a2f5292_fff1f189",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-07-18T09:20:49Z",
      "side": 1,
      "message": "@kaushik.lingarkar@linaro.org have you tried implementing the PIT on ElasticSearch to have a consistent and non-paginated view of the results?",
      "parentUuid": "f1f90f64_e56d9c8c",
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1da0c72b_a53e5610",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-07-24T22:39:33Z",
      "side": 1,
      "message": "\u003e @kaushik.lingarkar@linaro.org have you tried implementing the PIT on ElasticSearch to have a consistent and non-paginated view of the results?\n\nI think PIT would be a consistent and PAGINATED view of the results. At least, that\u0027s how we\u0027ve done it in the change we have for it here: https://gerrit-review.googlesource.com/c/modules/index-elasticsearch/+/341414\n\nThere\u0027s a performance overhead to using PIT, so that change allows disabling it still.\n\nI think unless you have a dataset that\u0027s smaller than `index.max_result_window`, you can\u0027t have a correct non-paginated ES implementation. Do you see another way around that?",
      "parentUuid": "0a2f5292_fff1f189",
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "edf7a3ce_4ea74095",
        "filename": "src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryGroupsTest.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-07-17T17:52:05Z",
      "side": 1,
      "message": "@luca I verified the change manually, but not sure if this integration test adds value. The problem with adding tests is that the setupDatabase (part of the before) already query elasticsearch, causing an IAE to be thrown (as expected) before actually running the tests. \n\nThis is a solution to run an integration test with paginationType NONE, without affecting all the other tests. \n\nI don\u0027t particularly like it, do you think I should delete it ?\nOr should I leave it and also replicate it in the test classes for the other indices?",
      "range": {
        "startLine": 88,
        "startChar": 2,
        "endLine": 98,
        "endChar": 69
      },
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "add7de94_9979d9df",
        "filename": "src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryGroupsTest.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 1161425
      },
      "writtenOn": "2023-07-19T08:44:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "edf7a3ce_4ea74095",
      "range": {
        "startLine": 88,
        "startChar": 2,
        "endLine": 98,
        "endChar": 69
      },
      "revId": "7d0fd17395a2e0c5cca347f82c27ebcd8a29d6b9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}